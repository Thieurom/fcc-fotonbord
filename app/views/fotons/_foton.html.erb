<div class="grid__item">
  <div class="card">
    <div class="foton" data-foton-id=<%= foton.id %>>
      <img class="foton__image" data-src=<%= foton.source %> data-caption="<%= foton.caption %>"
     style="width:100%;height:150px;background-color:#F4F4F4;" />
      <div class="foton__caption"><%= foton.caption %></div>
      <div class="foton__action">
        <% if logged_in? && liked_by?(foton.likes, current_user) %>
          <button class="foton__btn foton__btn--user-activated foton__like"><i class="fa fa-heart"></i> <span class="foton__likes"><%= foton.likes.count if foton.likes.count > 0 %></span></button>
        <% else %>
          <button class="foton__btn foton__like"><i class="fa fa-heart"></i> <span class="foton__likes"><%= foton.likes.count if foton.likes.count > 0 %></span></button>
        <% end %>
        <% if logged_in? && @user && @user == current_user %>
          <button class="foton__btn foton__unlink"><i class="fa fa-times"></i></button>
        <% else %>
          <button class="foton__btn foton__link"><i class="fa fa-plus"></i></button>
        <% end %>
      </div>
      <ul class="users">
        <% foton.users.each do |user| %>
          <li class="user">
            <%= link_to '', user_path(user.nickname), class: 'user__avatar', style: "background-image:url(#{user.image_url});" %>
          </li>
        <% end %>
      </ul>
    </div>
  </div>
</div>
